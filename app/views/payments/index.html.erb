<% flash.each do |type, msg| %>
<% if type=='notice'%>
    <div class="text-center full-bg bg-success m-0">
        <p class="text-white m-0"><%=msg%></p>
    </div>
<%end%>
<% end %>

<div class="jumbotron text-center">
    <h1 class="display-3">Payments</h1>
    <%= link_to("Add Payment", new_payment_path, :class => 'action new large-link') %>
</div>

<div class="container text-center">
    <table class="table table-hover table-striped table-bordered" summary="Payment List">
        <thead class="thead-dark">
            <tr>
            <th>#</th>
            <th>Member</th>
            <th>Semester</th>
            <th>Amount</th>
            <th>Date</th>
            <th><i class="fas fa-edit"></i></th>
            <th><i class="fas fa-trash"></th>
            </tr>
        </thead>
        <% @payments.each_with_index do |payment, index| %>
        <tr>
            <td><a href="<%= payment_path(payment) %>" class="cell-link"><%=index + 1%></a></td>
            <td><%= payment.member.name %></td>
            <td><%= payment.semester.semester_name%></td>
            <td>$ <%= payment.paymentAmount %></td>
            <td><%= payment.paymentDate.strftime('%b %d, %Y') %></td>
             <td>
                <%= link_to edit_payment_path(payment), :class => 'action edit' do%>
                <i class="fas fa-edit"></i>
                <% end%>
            </td>
            <td>
                <%= link_to payment_path(payment), method: :delete, data: {confirm: "Are you sure you wish to delete this payment?"} do%>
                <i class="fas fa-trash text-danger"></i>
                <% end%>
            </td>
        </tr>
        <% end %>
    </table>

</div>